// Generated by CoffeeScript 1.6.2
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  window.Batbelt.Pane = (function() {
    function Pane() {
      this.onShownHandler = __bind(this.onShownHandler, this);
    }

    Pane.prototype.init = function() {
      var _this = this;

      this.injectDebugger();
      return chrome.devtools.panels.create('Batman', 'img/logo.png', 'views/panel.html', function(panel) {
        return panel.onShown.addListener(_this.onShownHandler);
      });
    };

    Pane.prototype.injectDebugger = function() {
      var url, xhr;

      url = chrome.extension.getURL('dist/batman.debug.js');
      xhr = new XMLHttpRequest();
      xhr.open('GET', url, false);
      xhr.send();
      return chrome.devtools.inspectedWindow["eval"](xhr.responseText);
    };

    Pane.prototype.sendMessage = function(msg, cb) {
      return chrome.runtime.sendMessage({
        tabId: chrome.devtools.inspectedWindow.tabId,
        data: msg
      }, cb);
    };

    Pane.prototype.onShownHandler = function() {
      return this.sendMessage({
        type: 'ping'
      }, function(res) {
        return console.log('response', res);
      });
    };

    return Pane;

  })();

}).call(this);
