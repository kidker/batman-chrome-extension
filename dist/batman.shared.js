// Generated by CoffeeScript 1.6.3
var __hasProp = {}.hasOwnProperty;

window.$prettify = function(obj) {
  var key, loaded, pretty, val, value, _i, _len;
  if (!obj) {
    pretty = obj;
  } else if (obj instanceof Array) {
    pretty = [];
    for (_i = 0, _len = obj.length; _i < _len; _i++) {
      value = obj[_i];
      pretty.push($prettify(value));
    }
  } else if (obj instanceof Batman.SimpleHash || obj instanceof Batman.Hash) {
    pretty = {};
    obj.forEach(function(key, value) {
      return pretty[key] = $prettify(value);
    });
  } else if (obj instanceof Batman.SimpleSet || obj instanceof Batman.Set || obj.forEach) {
    pretty = [];
    obj.forEach(function(value) {
      return pretty.push($prettify(value));
    });
  } else if (obj instanceof Batman.Property) {
    pretty = $prettify(obj.getValue());
  } else if (obj instanceof Batman.Model) {
    pretty = obj.toJSON();
  } else if (obj instanceof Batman.Object) {
    pretty = {};
    if (obj._batman.properties != null) {
      pretty['properties'] = $prettify(obj._batman.properties);
    }
  } else if (obj instanceof Batman.RenderContext) {
    pretty = 'Batman.RenderContext';
  } else if (obj.constructor && obj.call && obj.apply) {
    if (obj.get && obj.storageKey && (loaded = obj.get('loaded'))) {
      pretty = $prettify(loaded);
    } else {
      pretty = "[object Function]";
    }
  } else if (obj instanceof Object) {
    pretty = {};
    for (key in obj) {
      if (!__hasProp.call(obj, key)) continue;
      val = obj[key];
      pretty[key] = $prettify(val);
    }
  } else {
    pretty = obj;
  }
  return pretty;
};

if (typeof BatmanDebug !== "undefined" && BatmanDebug !== null) {
  BatmanDebug.prettify = window.$prettify;
}

if (typeof Batbelt !== "undefined" && Batbelt !== null) {
  Batbelt.prettify = window.$prettify;
}
