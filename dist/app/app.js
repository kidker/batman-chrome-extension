// Generated by CoffeeScript 1.6.3
var _ref,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Batman.extend(Batman.config, {
  pathToApp: '/views/panel.html'
});

Batman.View.prototype.cache = false;

window.Batbelt = (function(_super) {
  var _this = this;

  __extends(Batbelt, _super);

  function Batbelt() {
    _ref = Batbelt.__super__.constructor.apply(this, arguments);
    return _ref;
  }

  Batbelt.root('dashboard#show');

  Batbelt.sendMessage = (function() {
    var callbackFunctions, messageId, port;
    messageId = 0;
    callbackFunctions = {};
    port = chrome.extension.connect({
      name: "" + chrome.devtools.inspectedWindow.tabId
    });
    port.onMessage.addListener(function(msg) {
      var cb;
      if (cb = callbackFunctions[msg.id]) {
        return cb(msg.data);
      }
    });
    return function(msg, cb) {
      var id;
      id = messageId++;
      if (cb == null) {
        cb = function() {};
      }
      callbackFunctions[id] = cb;
      return port.postMessage({
        data: msg,
        id: id
      });
    };
  })();

  return Batbelt;

}).call(this, Batman.App);
